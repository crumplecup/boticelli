# FAQ Content Generation
# Generates comprehensive FAQ content for the Botticelli Discord server
# Uses carousel mode to produce 9 refined FAQs (9 iterations, 1 per iteration)

[narrative]
name = "faq_content"
description = "Generate FAQ content for Botticelli Discord server"

[narrative.carousel]
iterations = 9

[toc]
order = ["generate_single", "critique_single", "refine_single"]

[acts.generate_single]
model = "gemini-2.5-flash-lite"
temperature = 0.7
max_tokens = 6000

[[acts.generate_single.input]]
type = "text"
content = """
Create a single comprehensive FAQ document for the Botticelli Discord server.

Botticelli is a Rust library and CLI for executing multi-act LLM narratives with:
- Multi-step narratives with context passing
- Content generation with database persistence
- Discord bot integration with security policies
- Support for multiple AI providers (Gemini, Claude, GPT)
- Carousel mode for batch content generation
- TOML-based workflow definitions

This FAQ should answer 8-10 common questions about:
- Installation and setup
- Basic usage and getting started
- Feature availability and capabilities

The FAQ should:
- Have clear question/answer pairs
- Include brief code examples where relevant
- Use Discord markdown formatting
- Be organized by category
- Be 300-400 words total (KEEP IT CONCISE)
- Use emojis for visual navigation

Provide your response as a JSON array with ONE object:
[
  {
    "title": "Botticelli FAQ",
    "content": "Full FAQ in Discord markdown format"
  }
]

CRITICAL: Keep the content field SHORT (under 1000 words). The JSON must be valid and complete.
"""

[acts.critique_single]
model = "gemini-2.5-flash"
temperature = 0.3
max_tokens = 1500

[[acts.critique_single.input]]
type = "text"
content = """
Review the FAQ document from the previous act and provide a critique.

Evaluate on:
1. Question Coverage - Are the most important questions answered?
2. Answer Quality - Are answers clear, accurate, and helpful?
3. Code Examples - Are examples correct and well-explained?
4. Organization - Is the structure logical and easy to navigate?
5. Formatting - Is Discord markdown used effectively?

Provide specific suggestions for improvement.
"""

[acts.refine_single]
model = "gemini-2.5-flash"
temperature = 0.3
max_tokens = 8000

[[acts.refine_single.input]]
type = "text"
content = """
Based on the critique, improve the FAQ document.

Enhancements to make:
- Fill any gaps in question coverage
- Enhance answer clarity and accuracy
- Verify and improve code examples
- Optimize organization and navigation
- Perfect Discord formatting (spoilers, emojis, code blocks)

Provide your response as a JSON array with ONE improved object:
[
  {
    "title": "Botticelli FAQ",
    "content": "Refined FAQ in Discord markdown format"
  }
]

CRITICAL: Keep the content field SHORT (under 1000 words). The JSON must be valid and complete.
"""
